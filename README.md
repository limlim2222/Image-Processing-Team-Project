# 영상처리 팀 프로젝트: 이미지 기반 주차 공간 탐지

## 프로젝트 개요

본 프로젝트는 영상처리(Image Processing) 기법을 활용한 이미지 기반 주차 공간 탐지 시스템을 구현하는 것을 목표로 합니다. 고정된 카메라로 촬영된 이미지를 입력으로 받아 주차 공간의 위치를 자동으로 검출하고, 각 주차 공간이 **비어 있는지 또는 차량이 주차되어 있는지**를 판별합니다.

센서 기반 주차 관리 시스템에 비해 비용이 저렴하고 설치가 간단하여, 대규모 야외 주차 환경에 적용 가능성이 높은 컴퓨터 비전 기반 접근 방법을 다룹니다.


---

## 프로젝트 배경 및 목적

대형 주차장의 경우 빈 주차 공간에 대한 정확한 정보 제공은 사용자 편의성과 교통 혼잡 감소에 매우 중요합니다. 기존의 센서 기반 시스템은 높은 비용과 유지 관리의 어려움이 있으므로, 본 프로젝트에서는 **카메라 영상만을 이용한 주차 공간 탐지 방법**을 구현하고 그 가능성을 검증하고자 하였습니다.

---

## 전체 시스템 구성


## 1. 주차 공간 검출 (Parking Space Detection)

영상 내에서 주차 공간의 구조를 추정하기 위해 선(Line)과 교차점(Intersection)을 기반으로 주차 구역을 검출합니다.

### 처리 과정

1. 입력 이미지 로드
2. Grayscale 변환
3. Gaussian Blur를 이용한 노이즈 제거
4. Canny Edge Detection을 이용한 에지 검출
5. Hough Line Transform을 이용한 직선 검출
6. Bentley–Ottmann 알고리즘을 이용한 직선 교차점 계산

검출된 직선과 교차점을 기반으로 주차 공간의 경계와 영역을 추정합니다.

---

## 2. 빈 공간 / 점유 공간 판별 (Occupancy Classification)

검출된 주차 공간이 비어 있는지 여부를 **배경 차(Background Subtraction)** 기법을 통해 판별합니다.

### 처리 과정

1. 현재 이미지와 배경 이미지 로드
2. 두 이미지를 Grayscale로 변환
3. 두 이미지 간 절대 차이 계산
4. Thresholding을 통해 이진 영상 생성
5. 차량 영역을 Bounding Box로 검출

차량 영역과 주차 공간 영역이 **80% 이상 겹칠 경우**, 해당 주차 공간을 **점유 상태(Occupied)**로 판단합니다.

---

## 데이터셋

본 프로젝트는 **PKLot Dataset**을 활용하여 평가를 수행하였습니다.

* 총 12,416장의 이미지
* 맑음, 흐림, 비 등 다양한 날씨 조건 포함
* 주차 공간의 빈 공간 / 점유 상태에 대한 라벨 제공

---

## 사용 기술 및 도구

* Python
* OpenCV
* Canny Edge Detection
* Hough Line Transform
* Bentley–Ottmann Line Intersection Algorithm
* Background Subtraction

